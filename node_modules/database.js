////
//// Database
////
//// A generic interface for our site DB
////
//// This is responsible for returning an instance of the currently 
//// defined DB.
////    

var newDB = function () {
// return a new instance of our DB.

    var db = require('mysql').createClient({

        user:       AD.Defaults.dbUser,
        password:   AD.Defaults.dbPword,
        host:       AD.Defaults.dbPath,
        port:       AD.Defaults.dbPort
    });

    return db;
}
exports.newDB = newDB;


// siteDB : a shared DB interface to be reused
var siteDB = newDB();
var sharedDB = function () {
// return our shared DB
    if (!siteDB.connected) {
        siteDB = newDB();
    }
    return siteDB;
}
exports.sharedDB = sharedDB;


